/**
 * Compass Global Styles
 * Swiss Editorial Ã— Japanese Minimalism
 */

/* Import design tokens */
@import '../styles/tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ===========================
     BASE TYPOGRAPHY
     =========================== */

  html {
    font-size: 16px; /* Base for rem units */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    font-family: var(--font-sans);
    font-size: var(--text-body);
    font-weight: var(--weight-normal);
    line-height: var(--leading-relaxed);
    letter-spacing: var(--tracking-normal);
    color: var(--color-soft-black);
    background-color: var(--color-bone);
  }

  /* ===========================
     HEADING HIERARCHY
     =========================== */

  h1 {
    font-size: var(--text-h1);       /* 40px */
    font-weight: var(--weight-semibold); /* 600 */
    line-height: var(--leading-tight);   /* 1.1 */
    letter-spacing: var(--tracking-widest); /* +3 (Zen calmness) */
    color: var(--color-soft-black);
    margin-bottom: var(--space-4);
  }

  h2 {
    font-size: var(--text-h2);       /* 28px */
    font-weight: var(--weight-semibold); /* 600 */
    line-height: var(--leading-snug);    /* 1.2 */
    letter-spacing: var(--tracking-wider); /* +2 */
    color: var(--color-soft-black);
    margin-bottom: var(--space-3);
  }

  h3 {
    font-size: var(--text-h3);       /* 20px */
    font-weight: var(--weight-medium);   /* 500-600 */
    line-height: var(--leading-normal);  /* 1.3 */
    letter-spacing: var(--tracking-wide); /* +1 */
    color: var(--color-soft-black);
    margin-bottom: var(--space-2);
  }

  /* ===========================
     TEXT ELEMENTS
     =========================== */

  p {
    font-size: var(--text-body);     /* 16px */
    font-weight: var(--weight-normal);   /* 400 */
    line-height: var(--leading-relaxed); /* 1.5 */
    letter-spacing: var(--tracking-normal); /* 0 */
    color: var(--color-charcoal);
    margin-bottom: var(--space-4);
  }

  /* Long-form reading (articles, quotes) */
  .prose {
    line-height: var(--leading-loose); /* 1.6 - optimized for reading */
  }

  /* Labels and metadata */
  label,
  .label {
    font-size: var(--text-small);    /* 14px */
    font-weight: var(--weight-medium);   /* 500 */
    color: var(--color-mid-gray);
  }

  /* Captions and badges */
  .caption {
    font-size: var(--text-caption);  /* 12px */
    font-weight: var(--weight-normal);   /* 400 */
    color: var(--color-mid-gray);
  }

  /* ===========================
     LINKS
     =========================== */

  a {
    color: var(--color-accent);
    text-decoration: none;
    transition: color var(--duration-fast) var(--ease-out);
  }

  a:hover {
    color: var(--color-accent-hover);
  }

  a:focus-visible {
    outline: var(--focus-ring);
    outline-offset: var(--focus-offset);
    border-radius: var(--radius-sm);
  }

  /* ===========================
     BUTTONS
     =========================== */

  button {
    font-family: var(--font-sans);
    font-weight: var(--weight-medium);
    cursor: pointer;
    transition: all var(--duration-fast) var(--ease-out);
  }

  button:focus-visible {
    outline: var(--focus-ring);
    outline-offset: var(--focus-offset);
  }

  /* ===========================
     FORMS
     =========================== */

  input,
  textarea,
  select {
    font-family: var(--font-sans);
    font-size: var(--text-body);
    color: var(--color-soft-black);
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: var(--focus-ring);
    outline-offset: var(--focus-offset);
  }

  ::placeholder {
    color: var(--color-mid-gray);
    opacity: 0.6;
  }

  /* ===========================
     RESET & NORMALIZATION
     =========================== */

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  /* Remove default margins */
  h1, h2, h3, h4, h5, h6,
  p, ul, ol, li {
    margin-top: 0;
  }

  /* Images */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  /* Lists */
  ul, ol {
    list-style-position: inside;
    padding-left: var(--space-4);
  }

  /* ===========================
     UTILITY CLASSES
     =========================== */

  .container-narrow {
    max-width: var(--width-narrow);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--space-4);
    padding-right: var(--space-4);
  }

  .container-standard {
    max-width: var(--width-standard);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--space-4);
    padding-right: var(--space-4);
  }

  .container-wide {
    max-width: var(--width-wide);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--space-4);
    padding-right: var(--space-4);
  }

  /* ===========================
     JAPANESE MINIMALISM
     =========================== */

  /* Intentional whitespace = design element */
  .section-spacing {
    margin-top: var(--section-spacing);
    margin-bottom: var(--section-spacing);
  }

  .section-spacing-large {
    margin-top: var(--section-spacing-large);
    margin-bottom: var(--section-spacing-large);
  }

  /* ===========================
     CUSTOM SCROLLBARS
     =========================== */

  /* Vertical scroll for author cards */
  .vertical-scroll {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db #f3f4f6;
  }

  .vertical-scroll::-webkit-scrollbar {
    width: 8px;
  }

  .vertical-scroll::-webkit-scrollbar-track {
    background: #f3f4f6;
    border-radius: 4px;
  }

  .vertical-scroll::-webkit-scrollbar-thumb {
    background-color: #d1d5db;
    border-radius: 4px;
  }

  .vertical-scroll::-webkit-scrollbar-thumb:hover {
    background-color: #9ca3af;
  }

  /* Sidebar scroll - more subtle */
  .sidebar-scroll {
    scrollbar-width: thin;
    scrollbar-color: #e5e7eb #ffffff;
  }

  .sidebar-scroll::-webkit-scrollbar {
    width: 6px;
  }

  .sidebar-scroll::-webkit-scrollbar-track {
    background: #ffffff;
  }

  .sidebar-scroll::-webkit-scrollbar-thumb {
    background-color: #e5e7eb;
    border-radius: 3px;
  }

  .sidebar-scroll::-webkit-scrollbar-thumb:hover {
    background-color: #d1d5db;
  }

  /* ===========================
     MINI BRAIN TEXTAREA
     =========================== */

  .mini-brain-textarea:focus {
    border-color: var(--color-accent) !important;
  }

  /* ===========================
     SWISS PRECISION
     =========================== */

  /* Sharp edges (not rounded pills) */
  .card {
    border-radius: var(--radius-base); /* 4px */
    background-color: var(--color-cloud);
    padding: var(--card-padding-desktop);
  }

  @media (max-width: 768px) {
    .card {
      padding: var(--card-padding-mobile);
    }
  }

  /* ===========================
     ACCESSIBILITY
     =========================== */

  /* Skip to content link */
  .skip-to-content {
    position: absolute;
    left: -9999px;
    z-index: var(--z-tooltip);
    padding: var(--space-2) var(--space-4);
    background-color: var(--color-accent);
    color: white;
  }

  .skip-to-content:focus {
    left: var(--space-4);
    top: var(--space-4);
  }

  /* ===========================
     ANIMATIONS
     =========================== */

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInDelay {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.5s ease-out forwards;
  }

  .animate-fade-in-delay {
    animation: fadeInDelay 0.5s ease-out 0.1s forwards;
    opacity: 0;
  }

  .animate-slide-up {
    animation: slideInUp 0.5s ease-out forwards;
  }

  /* Staggered animations for lists */
  .animate-stagger > *:nth-child(1) { animation-delay: 0ms; }
  .animate-stagger > *:nth-child(2) { animation-delay: 50ms; }
  .animate-stagger > *:nth-child(3) { animation-delay: 100ms; }
  .animate-stagger > *:nth-child(4) { animation-delay: 150ms; }
  .animate-stagger > *:nth-child(5) { animation-delay: 200ms; }
  .animate-stagger > *:nth-child(6) { animation-delay: 250ms; }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* ===========================
   PRINT STYLES
   =========================== */

@media print {
  body {
    background-color: white;
    color: black;
  }

  a {
    text-decoration: underline;
  }

  .no-print {
    display: none;
  }
}
